<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Weidaicheng"><title>Aquarius.Weixin 微信公众号开发教程（1）- Quick Start · Weidaicheng's blog</title><meta name="description" content="在今天，Aquarius.Weixin版本正式上线，github的readme中有Aquarius.Weixin的快速开发入门，本博客从快速入门开始，分步介绍Aquarius.Weixin的使用方法，以及分享在微信公众号开发中遇到的各种坑。
该教程以版本1.5.0及以上版本为例。1、关于Aquari"><meta name="keywords" content=".Net,.Net core,C#"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">Weidaicheng's blog</a></h3><div class="description"><p>一个小程序员</p></div></div></div><ul class="social-links"><li><a href="http://github.com/Weidaicheng"><i class="fa fa-github"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Copyright©Weidaicheng</span></a></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">Home</a></li><li><a href="/about">About</a></li><li><a href="/archives">Archive</a></li><li><a href="/links">Links</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="/images/favicon.png"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>Aquarius.Weixin 微信公众号开发教程（1）- Quick Start</a></h3></div><div class="post-content"><p>在今天，Aquarius.Weixin版本正式上线，github的readme中有Aquarius.Weixin的快速开发入门，本博客从快速入门开始，分步介绍Aquarius.Weixin的使用方法，以及分享在微信公众号开发中遇到的各种坑。</p>
<h2 id="该教程以版本1-5-0及以上版本为例。"><a href="#该教程以版本1-5-0及以上版本为例。" class="headerlink" title="该教程以版本1.5.0及以上版本为例。"></a>该教程以版本1.5.0及以上版本为例。</h2><h3 id="1、关于Aquarius-Weixin"><a href="#1、关于Aquarius-Weixin" class="headerlink" title="1、关于Aquarius.Weixin"></a>1、关于Aquarius.Weixin</h3><p><a href="https://github.com/Weidaicheng/Aquarius.Weixin" target="_blank" rel="noopener">Aquarius.Weixin</a>是一个为.net core 2.0开发的微信公众号开发框架，目前实现了网页授权、菜单创建、消息管理、素材管理、消息收发、模板消息管理与推送、微信支付等，便于.net core开发者专注于业务，快速开发微信公众号。<br><a href="https://github.com/Weidaicheng/Aquarius.Weixin" target="_blank" rel="noopener">项目地址Github</a>，欢迎大家的star和fork，有任何问题可以提issue或者与我联系（readme里有我的微信号）。</p>
<h3 id="2、关于本文"><a href="#2、关于本文" class="headerlink" title="2、关于本文"></a>2、关于本文</h3><p>本文主要作为快速开发入门，主要介绍网页授权、菜单创建、消息收发功能。</p>
<h3 id="3、那么，现在开始咯"><a href="#3、那么，现在开始咯" class="headerlink" title="3、那么，现在开始咯"></a>3、那么，现在开始咯</h3><p>在正式开始之前，先说两句闲话，我第一次做公众号开发是公司要求将我们的app产品移植到微信公众号，作为一个从来没做过微信公众号开发的萌新，第一件事就是去看微信的文档（然而并没看懂），然后又去百度 <code>微信公众号 .net</code> （我们公司后台是用的.net framework），网上大部分的文档一上来就是在介绍如何配置服务器链接怎么去验证签名（在配置服务器链接的时候），但是我们公众号开发的大部分情况下并不需要消息收发的功能，我们要的只是用户打开网页，获取到用户的openid足矣。而网页授权获取openid的时候是不需要配置服务器链接的（摔 (′д｀ )…彡…彡，本文以测试号为例从网页授权开始介绍，以及在什么情况下需要配置什么东西。<br>现在真的正式开始了。</p>
<h3 id="准备步骤："><a href="#准备步骤：" class="headerlink" title="准备步骤："></a>准备步骤：</h3><p>（1）安装Aquarius.Weixin<br><img src="/2018/07/03/Aquarius-Weixin-微信公众号开发教程（1）-Quick-Start/Aquarius.Weixin nuget package.png" alt="Aquarius.Weixin nuget package.png"><br>从nuget包管理器进行安装，目前版本为1.5.6<br>（2）注册测试号（已经注册过的同学可跳过本步）<br>点击进入<a href="https://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=sandbox/login" target="_blank" rel="noopener">微信测试平台</a>，微信扫码登陆，查看测试账号的appid和appsecret<br><img src="/2018/07/03/Aquarius-Weixin-微信公众号开发教程（1）-Quick-Start/微信测试账号.png" alt="微信测试账号.png"></p>
<p>（3）修改startup.cs中的ConfigureServices，添加如下代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">services.AddAquariusWeixin(opt =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    opt.BaseSetting = new BaseSettings()</span><br><span class="line">    &#123;</span><br><span class="line">        Debug = true,</span><br><span class="line">        IsRepetValid = false,</span><br><span class="line">        AppId = &quot;your appid&quot;,</span><br><span class="line">        AppSecret = &quot;your appsecret&quot;,</span><br><span class="line">        Token = &quot;token&quot;</span><br><span class="line">    &#125;;</span><br><span class="line">    opt.CacheType = CacheType.InMemory;</span><br><span class="line">    opt.MsgMiddlewareType = MessageMiddlewareType.Plain;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>将上述appid和appsecret配置为自己的appid和appsecret，CacheType为缓存模式，当前使用InMemory模式，MsgMiddlewareType为消息中间件模式（消息加解密方式），当前使用Plain(明文)。<br>然后，新建名为WeixinController的空控制器类，并删除其中的Index方法。<br>至此，准备工作完成。</p>
<h3 id="创建菜单"><a href="#创建菜单" class="headerlink" title="创建菜单"></a>创建菜单</h3><p>注意：由于微信测试号的限制，只能通过api方式配置菜单，所以此处首先进行菜单配置，使用服务号的同学如果不想了解配置菜单可以直接看网页授权。<br>新建一个CreateMenu方法，代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">public IActionResult CreateMenu()</span><br><span class="line">&#123;</span><br><span class="line">    //创建菜单对象</span><br><span class="line">    var menu = new Menu()</span><br><span class="line">    &#123;</span><br><span class="line">        button = new List&lt;IButton&gt;()</span><br><span class="line">        &#123;</span><br><span class="line">            new SingleClickButton(&quot;按钮1&quot;)</span><br><span class="line">            &#123;</span><br><span class="line">                key = &quot;Button1&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            new SubButton(&quot;二级菜单&quot;)</span><br><span class="line">            &#123;</span><br><span class="line">                sub_button = new List&lt;SingleButton&gt;()</span><br><span class="line">                &#123;</span><br><span class="line">                    new SingleClickButton(&quot;按钮2&quot;)</span><br><span class="line">                    &#123;</span><br><span class="line">                        key = &quot;Button2&quot;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    new SingleViewButton(&quot;网页&quot;)</span><br><span class="line">                    &#123;</span><br><span class="line">                        url = &quot;https://open.weixin.qq.com/connect/oauth2/authorize?appid=APPID&amp;redirect_uri=http://yourdomain.com/Weixin/Authorization&amp;response_type=code&amp;scope=snsapi_userinfo&amp;state=STATE#wechat_redirect&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    //获取AccessToken</span><br><span class="line">    var accessToken = _accessTokenContainer.GetAccessToken();</span><br><span class="line">    //创建菜单</span><br><span class="line">    var result = _menuInterfaceCaller.CreateMenu(accessToken, menu.ToJson());</span><br><span class="line">    return Content(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>创建的菜单样式如下：<br><img src="/2018/07/03/Aquarius-Weixin-微信公众号开发教程（1）-Quick-Start/menu.png" alt="menu.png"><br>其中“网页”菜单中的url需将APPID替换为自己的appid，scope使用snsapi_userinfo可以获取用户详细信息，并将yourdomain.com替换成自己的公网项目地址，此处介绍一个工具 <code>ngrok</code> 可以将内网端口映射到外网，运行 <code>ngrok http port</code> 其中port为当前web项目端口，如下：<br><img src="/2018/07/03/Aquarius-Weixin-微信公众号开发教程（1）-Quick-Start/ngrok.png" alt="ngrok.png"><br>然后使用映射后的域名替换yourdomain.com，之后浏览器打开<a href="http://localhost:port/Weixin/CreateMenu创建菜单。" target="_blank" rel="noopener">http://localhost:port/Weixin/CreateMenu创建菜单。</a><br>注意：使用服务号测试的同学必须先到后台配置业务域名，然后浏览器访问<a href="http://f0323206.ngrok.io/Weixin/CreateMenu创建菜单，不然获取AccessToken会报错。" target="_blank" rel="noopener">http://f0323206.ngrok.io/Weixin/CreateMenu创建菜单，不然获取AccessToken会报错。</a><br><img src="/2018/07/03/Aquarius-Weixin-微信公众号开发教程（1）-Quick-Start/业务域名.png" alt="业务域名.png"><br>浏览器返回ok即菜单创建成功：<br><img src="/2018/07/03/Aquarius-Weixin-微信公众号开发教程（1）-Quick-Start/创建菜单.png" alt="创建菜单.png"><br>注意：菜单创建成功之后有一定的缓存期，可以通过重新关注来刷新菜单。</p>
<h3 id="网页授权"><a href="#网页授权" class="headerlink" title="网页授权"></a>网页授权</h3><p>在上一节创建菜单中我们创建了一个网页跳转按钮，如果你是用的服务号，直接到后台菜单配置中配置菜单链接即可。<br>在WeixinController中新建Authorization方法，代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public IActionResult Authorization(string code)</span><br><span class="line">&#123;</span><br><span class="line">    //通过code获取openId</span><br><span class="line">    var openId = _authorizationContainer.GetOpenId(code);</span><br><span class="line">    //通过openId获取userInfo</span><br><span class="line">    var userInfo = _authorizationContainer.GetUserInfo(openId, Language.zh_CN);</span><br><span class="line">    return Content($&quot;your openId is &#123;openId&#125;, your nickname is &#123;userInfo.nickname&#125;&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>注意，该方法的code参数不可少。<br>然后到测试号后台配置网页授权域名：<br><img src="/2018/07/03/Aquarius-Weixin-微信公众号开发教程（1）-Quick-Start/网页授权域名位置.png" alt="网页授权域名位置.png"><br><img src="/2018/07/03/Aquarius-Weixin-微信公众号开发教程（1）-Quick-Start/网页授权域名修改.png" alt="网页授权域名修改.png"><br>使用服务号的同学，前往如下位置配置：<br><img src="/2018/07/03/Aquarius-Weixin-微信公众号开发教程（1）-Quick-Start/服务号网页授权域名配置.png" alt="服务号网页授权域名配置.png"><br>运行项目后，点击二级菜单下的网页按钮，运行效果如下：<br><img src="/2018/07/03/Aquarius-Weixin-微信公众号开发教程（1）-Quick-Start/网页授权效果.png" alt="网页授权效果.png"></p>
<h3 id="消息收发"><a href="#消息收发" class="headerlink" title="消息收发"></a>消息收发</h3><p>在WeixinController中新建Index方法，代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">public async Task&lt;IActionResult&gt; Index(string signature, string timestamp, string nonce, string echostr, string encrypt_type, string msg_signature)</span><br><span class="line">&#123;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        if (!string.IsNullOrEmpty(echostr))</span><br><span class="line">        &#123;</span><br><span class="line">            //服务器认证</span><br><span class="line">            if (_verifyer.VerifySignature(signature, timestamp, nonce, &quot;token&quot;))</span><br><span class="line">            &#123;</span><br><span class="line">                return Content(echostr);</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                return Content(&quot;success&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            //消息接收</span><br><span class="line">            using (var sr = new StreamReader(Request.Body))</span><br><span class="line">            &#123;</span><br><span class="line">                string data = await sr.ReadToEndAsync();</span><br><span class="line"></span><br><span class="line">                //接收消息中间处理</span><br><span class="line">                data = _messageMiddleware.ReceiveMessageMiddle(signature, msg_signature, timestamp, nonce, data);</span><br><span class="line"></span><br><span class="line">                //解析消息</span><br><span class="line">                IMessage message = MessageParser.ParseMessage(data);</span><br><span class="line">                //处理消息，生成回复</span><br><span class="line">                string reply = _messageProcesser.ProcessMessage(message);</span><br><span class="line"></span><br><span class="line">                //回复消息中间处理</span><br><span class="line">                reply = _messageMiddleware.ReplyMessageMiddle(reply);</span><br><span class="line">            </span><br><span class="line">                return Content(reply);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    catch (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        //log something</span><br><span class="line">        return Content(&quot;success&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后配置接口如下：<br><img src="https://upload-images.jianshu.io/upload_images/3478619-55377cf463c3ca55.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="接口配置.png"><br>将域名替换为自己的域名，token填写为startup中设置的token。<br>使用服务号的同学在开发-基本配置中配置：<br><img src="https://upload-images.jianshu.io/upload_images/3478619-2ccfea642f9ae561.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="服务号接口配置.png"><br>并可选择加密模式，本例中使用明文模式（在startup中已设置）。配置完成后点击“启动”。<br>注意：该消息处理方法在生产环境中也建议如此编写。<br>至此，我们完成了接口的编写和配置，在Aquarius.Weixin中所有消息均未进行任何处理直接回复success（即用户收不到任何回复）。<br>下一步，实现一个点击按钮返回文本消息的类。<br>新建类ClickEventReplyTextHandler，代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public class ClickEventReplyTextHandler : IClickEvtMessageHandler</span><br><span class="line">&#123;</span><br><span class="line">    private readonly IMessageReply&lt;TextMessage&gt; _messageReply;</span><br><span class="line"></span><br><span class="line">    public ClickEventReplyTextHandler(IMessageReply&lt;TextMessage&gt; messageReply)</span><br><span class="line">    &#123;</span><br><span class="line">        _messageReply = messageReply;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public string Handle(ClickEvtMessage message)</span><br><span class="line">    &#123;</span><br><span class="line">        var textMessage = new TextMessage(message)</span><br><span class="line">        &#123;</span><br><span class="line">            CreateTime = UtilityHelper.GetTimeStamp(),</span><br><span class="line">            Content = $&quot;你点击了&#123;message.EventKey&#125;按钮&quot;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        return _messageReply.CreateXml(textMessage);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>①ClickEventReplyTextHandler所实现的接口IClickEvtMessageHandler即为要重写的消息类型处理接口，本例为点击事件消息处理，在之后的教程中将详细介绍其他的消息类型处理接口。<br>②_messageReply字段的类型为IMessageReply<t>类型，类型T即为返回的消息类型，在之后的教程中将详细介绍可以返回的消息类型。<br>然后在startup类的ConfigureServices方法中AddAquariusWeixin之后添加如下代码，注意一定是之后：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">services.AddScoped&lt;IClickEvtMessageHandler, ClickEventReplyTextHandler&gt;();</span><br></pre></td></tr></table></figure></t></p>
<p>使用刚才编写的ClickEventReplyTextHandler类处理点击事件消息。<br>点击按钮，效果如下：<br><img src="https://upload-images.jianshu.io/upload_images/3478619-e0a8e8386350340f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="点击按钮回复文本效果.png"></p>
<h3 id="4、附录"><a href="#4、附录" class="headerlink" title="4、附录"></a>4、附录</h3><p>WeixinController类中使用到的所有字段声明如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">private readonly AccessTokenContainer _accessTokenContainer;</span><br><span class="line">private readonly MenuInterfaceCaller _menuInterfaceCaller;</span><br><span class="line">private readonly AuthorizationContainer _authorizationContainer;</span><br><span class="line">private readonly Verifyer _verifyer;</span><br><span class="line">private readonly IMessageMiddleware _messageMiddleware;</span><br><span class="line">private readonly MessageProcesser _messageProcesser;</span><br></pre></td></tr></table></figure></p>
<p>或者<a href="https://github.com/Weidaicheng/Aquarius.Weixin/tree/master/src/Web/Aquarius.Weixin.Web" target="_blank" rel="noopener">查看源码</a><br>另外，之后的教程目录还在构思中，如果有那一块想先了解可以评论告诉我。</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2018-07-03</span><i class="fa fa-tag"></i><a class="tag" href="/tags/Aquarius-Weixin/" title="Aquarius.Weixin">Aquarius.Weixin </a><a class="tag" href="/tags/Weixin/" title="Weixin">Weixin </a><a class="tag" href="/tags/Wechat/" title="Wechat">Wechat </a><a class="tag" href="/tags/微信公众号/" title="微信公众号">微信公众号 </a><a class="tag" href="/tags/Netcore/" title=".Netcore">.Netcore </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,http://yoursite.com/2018/07/03/Aquarius-Weixin-微信公众号开发教程（1）-Quick-Start/,Weidaicheng's blog,Aquarius.Weixin 微信公众号开发教程（1）- Quick Start,;"></a></div></div><div class="pagination"><ul class="clearfix"></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>